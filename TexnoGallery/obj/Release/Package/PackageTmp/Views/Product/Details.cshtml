@using TexnoGallery.ViewModel.Default
@model DefaultViewModel
@{
    var subId = ViewBag.subId;
    var catId = ViewBag.catId;
}
@section mainCss{
    <link rel="stylesheet" href="~/vendors/slick/css/slick-theme.css">
    <link rel="stylesheet" href="~/vendors/slick/css/slick.css">
    <link rel="stylesheet" href="~/FrontPublic/css/.css">
    <link href="~/FrontPublic/css/magnific-popup.css" rel="stylesheet" />
    <link rel="stylesheet" href="~/FrontPublic/css/Product.css">
}
<input id="catId" type="hidden" data-catid="subId" value="@catId" />
<input id="catSubId" type="hidden" data-subcatid="subCatId" value="@subId" />


@*<div class="breadcrumbs_area">
        <div class="container">
            <div class="row">
                <div class="col-12">
                    <div class="breadcrumb_content">
                        <ul>
                            <li><a href="@Url.Action("Index","Home")">Ana Səhifə</a></li>
                            <li>
                                <a href="@Url.Action("Product","Product",new { catId=Model.ProductDetail.SubCategory.Category.Id})">

                                    @Model.ProductDetail.SubCategory.Category.Name
                                </a>
                            </li>

                            <li>
                                <a href="@Url.Action("Product","Product",new { subId=Model.ProductDetail.SubCategory.Id})">
                                    @Model.ProductDetail.SubCategory.Name
                                </a>
                            </li>
                            <li>
                                <a href="@Url.Action("Details","Product")">
                                    @Model.ProductDetail.Name
                                </a>
                            </li>





                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>*@
<!--product details start-->
<div class="product_details mt-20">
    <div class="container">
        <div class="row">
            <div class="col-lg-6 col-md-6">
                <div class="product-details-tab">

                    <div id="img-1" class="single_product">
                        <a href="#">
                            <img style="object-fit:contain" class="prod_image" id="zoom1" src="@Model.ProductDetail.Image" data-zoom-image="@Model.ProductDetail.Image" alt="big-1">
                        </a>
                    </div>

                    <div class="single-zoom-thumb">
                        <ul class="s-tab-zoom owl-carousel single-product-active" id="gallery_01">

                            <li>
                                <a href="@Model.ProductDetail.Image" class="elevatezoom-gallery active" data-update="" data-image="@Model.ProductDetail.Image" data-zoom-image="@Model.ProductDetail.Image">
                                    <img src="@Model.ProductDetail.Image" alt="zo-th-1" />
                                </a>

                            </li>
                            @foreach (var item in Model.ProImage)
                            {
                                <li>
                                    <a href="@item.Image" class="elevatezoom-gallery active" data-update="" data-image="@item.Image" data-zoom-image="@item.Image">
                                        <img src="@item.Image" alt="zo-th-1" />
                                    </a>

                                </li>
                            }


                        </ul>
                    </div>
                </div>
            </div>
            <div class="col-lg-6 col-md-6">
                <div class="product_d_right">
                    <form action="#">

                        <h1>@Model.ProductDetail.Name</h1>
                        @*<div class="product_nav">
                                <ul>
                                    <li class="prev"><a href="product-details.html"><i class="fa fa-angle-left"></i></a></li>
                                    <li class="next"><a href="variable-product.html"><i class="fa fa-angle-right"></i></a></li>
                                </ul>
                            </div>*@

                        <div class="price_box">
                            <span class="current_price">@Model.ProductDetail.Price ₼</span>
                            @*<span class="old_price">$80.00</span>*@

                        </div>
                        <div class="product_desc">
                            <p>eget velit. Donec ac tempus ante. Fusce ultricies massa massa. Fusce aliquam, purus eget sagittis vulputate, sapien libero hendrerit est, sed commodo augue nisi non neque. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed tempor, lorem et placerat vestibulum, metus nisi posuere nisl, in </p>
                        </div>

                        <div class="product_variant quantity">
                            <label>Say</label>
                            <input min="1" max="100" value="1" type="number">
                            <button class="button" type="submit">Səbətə Əlavə Et</button>

                        </div>

                        @*<div class="product_meta">
                                <span>
                                    Category:
                                    <a href="@Url.Action("Product","Product",new { catId=Model.ProductDetail.SubCategory.Category.Id})">@Model.ProductDetail.SubCategory.Category.Name /</a>
                                    <a href="@Url.Action("Product","Product",new { subId=Model.ProductDetail.SubCategory.Id})">@Model.ProductDetail.SubCategory.Name</a>

                                </span>
                            </div>*@

                    </form>


                </div>
            </div>
        </div>
    </div>
</div>
<!--product details end-->
<!--product info start-->
<div class="product_d_info">
    <div class="container">
        <div class="row">
            <div class="col-12">
                <div class="product_d_inner">
                    <div class="product_info_button">
                        <ul class="nav" role="tablist">

                            <li>
                                <a class="active" data-toggle="tab" href="#sheet" role="tab" aria-controls="sheet" aria-selected="false">Texniki Göstəricilər</a>
                            </li>

                        </ul>
                    </div>
                    <div class="tab-content">

                        <div class="tab-pane fade  active" id="sheet" role="tabpanel">
                            <div class="product_d_table">
                                <form action="#">
                                    <table>
                                        <tbody>
                                            @foreach (var item in Model.ProductDetail.ProductOptions)
                                            {
                                                <tr>
                                                    <td class="first_child">@item.Option.Name</td>
                                                    <td>@item.Option.Description</td>
                                                </tr>
                                            }


                                        </tbody>
                                    </table>
                                </form>
                            </div>

                        </div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!--product info end-->
<!--product area start-->
<section class="product_area mb-50">
    <div class="container-fluid">
        <div class="row">
            <div class="col-12">
                <div class="section_title">
                    <h2><span> <strong>Oxşar</strong>Məhsullar</span></h2>
                </div>
                <div class="product_carousel product_column5 owl-carousel">
                    @foreach (var item in Model.productList)
                    {


                        <div class="single_product">
                            <div class="product_name">
                                @if (item.Name.Length > 30)
                                {
                                    <h3>
                                        <a class="prod_name" href="@Url.Action("Details","Product",new { id=item.Id,title=Html.ClearnUrl(item.Name)})">
                                            @Html.Raw(item.Name.Substring(0, 25))
                                        </a>
                                    </h3>
                                }
                                else
                                {
                                    <h3>
                                        <a class="prod_name" href="@Url.Action("Details","Product",new { id=item.Id,title=Html.ClearnUrl(item.Name)})">
                                            @Html.Raw(item.Name)
                                        </a>
                                    </h3>
                                }

                                <p class="manufacture_product"><a href="@Url.Action("Details","Product",new { id=item.Id,title=Html.ClearnUrl(item.Name)})">@item.SubCategory.Name</a></p>
                            </div>
                            <div class="product_thumb">
                                <a class="primary_img" href="@Url.Action("Details","Product",new { id=item.Id,title=Html.ClearnUrl(item.Name)})"><img class="prod_image" src="@item.Image" style="height:100%" alt=""></a>

                            </div>
                            <div class="product_content">

                                <div class="product_footer d-flex align-items-center">
                                    <div class="price_box">
                                        <span class="regular_price prod_price">@item.Price ₼</span>
                                        <input class="hidePId" type="hidden" value="@item.Id" />
                                    </div>
                                    <div class="add_to_cart">
                                        <button data-action="Add_To_Cart" title="add to cart"><span class="fas fa-shopping-cart"></span></button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    }



                </div>
            </div>
        </div>

    </div>
</section>

<!--product area end-->
@*<div class="container ">
    <div class="row">
        <div class="col-md-5 mt-5">
            <div style="background:white;border:1px solid #ccc;" class=" d-flex p-2 align-items-center justify-content-center easyzoom au-btn--small easyzoom--overlay easyzoom--with-thumbnails bigImg ">
                <input class="hidePId" type="hidden" value="@Model.ProductDetail.Id" />

                <a href="@Model.ProductDetail.Image">
                    <img class="pro_image" src="@Model.ProductDetail.Image" alt="Texno" style="width: 95%;object-fit:contain" />
                </a>
            </div>

            <div class="slider sld" style="">
                <div class="bx-pager ">
                    <div class="bxSlide-img d-flex align-items-center" style="padding:10px;border:1px solid #ccc;height:120px;background:#fff">
                        <a href="@Model.ProductDetail.Image">
                            <img style="object-fit:cover;" alt="@Model.ProductDetail.Name" class="img-fluid" src="@Model.ProductDetail.Image" />
                        </a>
                    </div>
                    @foreach (var item in Model.ProImage)
                    {
                        <div class="bxSlide-img d-flex align-items-center" style="padding:10px;border:1px solid #ccc;height:120px;background:#fff">
                            <a href="@item.Image">
                                <img style="object-fit:cover;width:80%;margin:auto" alt="@item.Product.Name" class="img-fluid" src="@item.Image" />
                            </a>
                        </div>
                    }



                </div>
            </div>
        </div>

        <div class="col-md-6 div-text mt-5">

            <h2 class="pro_name">
                @Model.ProductDetail.Name
            </h2>

            <p class="price pro_price">@Model.ProductDetail.Price AZN</p>*@

@*<label>Miqdar:</label>*@
@*<input class="mb-5 cart-quantity"  type="number" value="1" style="width:152px">*@
<br />
@*<button type="button" class="cart mb-3" data-action="Add_To_Cart">Səbətə Əlavə Et</button><br />
                <button type="button" class="cart1">İndi Al</button>
            </div>


        </div>
    </div>*@
@*<div class="container">
        <div class="row">
            <div class="col-md-12">

                <div class="TableProduct">
                    <h3><b>Texniki göstəricilər</b></h3>
                    <table class="table bg-white">

                        <tbody>

                            @foreach (var item in Model.ProductDetail.ProductOptions)
                            {
                                <tr>
                                    <th style="width:18%" scope="row">@item.Option.Name :</th>
                                    <td>@item.Option.Description</td>
                                </tr>

                            }
                        </tbody>


                    </table>
                </div>
            </div>
        </div>
    </div>*@
@section CartJs{

    <script src="~/FrontPublic/js/maincart.js"></script>
}
@section mainJS{

    <script src="~/vendors/slick/js/slick.js"></script>
    <script src="~/FrontPublic/js/easyzoom.min.js"></script>
    <script src="~/FrontPublic/js/prod.js"></script>
    <script src="~/FrontPublic/js/jquery.magnific-popup.min.js"></script>
    <script>

        $('.easyzoom').easyZoom({
            position: 'center',
            //background: '#222',

        });

        $(document).ready(function () {
            $(".s-tab-zoom").magnificPopup({
                delegate: 'a',
                type: 'image',
                tLoading: 'Loading image #%curr%...',
                mainClass: 'mfp-img-mobile',
                gallery: {
                    enabled: true,
                    navigateByImgClick: true,
                    preload: [0, 1] // Will preload 0 - before current, and 1 after the current image
                },
                image: {
                    tError: '<a href="%url%">The image #%curr%</a> could not be loaded.',
                    titleSrc: function (item) {
                        return item.el.attr('title') + '<small>by Texno Gallery</small>';
                    }
                }
            });
        });
        $('.toggle').on('click', function () {
            var $this = $(this);

            if ($this.data("active") === true) {
                $this.text("Switch on").data("active", false);
                api2.teardown();
            } else {
                $this.text("Switch off").data("active", true);
                api2._init();
            }
        });
        $(".bxSlide-img").on("click", function () {
            var imgSlide = $(this).find("img").attr('src');
            $(".bigImg").find("img").attr("src", imgSlide)
            $(".bigImg").find("a").attr("href", imgSlide)
        })
    </script>
}